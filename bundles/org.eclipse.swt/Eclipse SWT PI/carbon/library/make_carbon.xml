<!-- ============================================================================= -->
<!-- Copyright (c) 2000, 2002 IBM Corp.  All rights reserved.                      -->
<!-- This file is made available under the terms of the Common Public License v1.0 -->
<!-- which accompanies this distribution, and is available at                      -->
<!-- http://www.eclipse.org/legal/cpl-v10.html                                     -->
<!-- ============================================================================= --> 

<project default="build_lib" basedir=".">

	<target name="init">
		<tstamp/>
       	<property name="fragment_dir" value="../../../../org.eclipse.swt.carbon" />
        <property name="jar_destdir" value="${fragment_dir}/ws/carbon" />
        <property name="lib_destdir" value="${fragment_dir}/os/macosx/ppc" />
		<property name="plugin" value="org.eclipse.swt" />
		<property name="bin_dir" value="../../../bin" />
        <mkdir dir="${jar_destdir}" />
        <mkdir dir="${lib_destdir}" />
	</target>

	<target name="build" depends="init">
    	<eclipse.incrementalBuild project="${plugin}" kind="incr" />
	</target>
	
	<target name="build_lib" depends="build">
	
		<exec dir="${bin_dir}/library/" executable="csh">
  			<arg line='build.csh' />
		</exec>
		<copy todir="${lib_destdir}">
		    <fileset dir="${bin_dir}/library" includes="**/*.jnilib"/>
		</copy>
	</target>
		
    <target name="build_jar" depends="build">
        <jar
            jarfile="${jar_destdir}/swt.jar"
            basedir="${bin_dir}"
        />
    </target>
    
	<target name="clean" depends="init">
	
		<exec dir="${bin_dir}/library/" executable="csh">
  			<arg line='build.csh' />
  			<arg line='clean' />
		</exec>
	</target>

    <target name="export" depends="build_jar,build_lib">
    </target>
	
</project>
